"use strict";var l=exports&&exports.__createBinding||(Object.create?function(e,t,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){i===void 0&&(i=n),e[i]=t[n]}),f=exports&&exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=exports&&exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&l(t,e,n);return f(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0});exports.parseKeyValueLinesIntoConfiguration=exports.castValue=exports.interpolateValue=exports.parseKeyValueFileIntoConfiguration=void 0;var p=d(require("fs"));function _(e){let t=p.readFileSync(e,"utf-8");return s(t)}exports.parseKeyValueFileIntoConfiguration=_;var y=(e,t)=>e.replace(/\${(.*?)}/g,(n,i)=>t[i]?String(t[i]):process.env[i]?process.env[i]:"");exports.interpolateValue=y;var g=e=>{if(e.startsWith("0x"))return e;let t=Number(e);return isNaN(t)?e:t};exports.castValue=g;function s(e){let t=e.split(`
`),n={};for(let i of t){let r=i.trim();if(!r||r.startsWith("#"))continue;let[o,...c]=i.split("="),u=c.join("=").trim();if(!o||!u)continue;let a=o.trim();if(!(!a||!u)){if(Object.keys(n).includes(a))throw new Error(`[ERROR]: Duplicated key \`${a}\` found`);u!=null&&(n[a]=(0,exports.castValue)(u))}}return n}exports.parseKeyValueLinesIntoConfiguration=s;
